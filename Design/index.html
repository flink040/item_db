<!DOCTYPE html>
<html lang="de" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="supabase-url" content="https://nrelnqyjejzalufddoei.supabase.co" />
    <meta
      name="supabase-anon"
      content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yZWxucXlqZWp6YWx1ZmRkb2VpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwNTUwMTksImV4cCI6MjA3MzYzMTAxOX0.T_SnEpL_YCSvU0Ej07IK4iDW8ozwbfYD8Z4YqIOnYRg"
    />
    <title>OP ITEM DB</title>
    <link rel="icon" type="image/svg+xml" href="./assets/logo.svg" />
    <link rel="stylesheet" href="./assets/styles/main.css" />
    <style>
      [data-dropdown-container]:focus-within {
        overflow-x: visible;
        overflow-y: auto;
      }
    </style>
  </head>
  <body class="h-full bg-slate-950 text-slate-100 font-sans">
    <div class="min-h-full flex flex-col">
      <header class="relative z-50 border-b border-slate-800/80 bg-slate-950/70 backdrop-blur">
        <div class="mx-auto flex w-full max-w-6xl items-center justify-between px-6 py-5">
          <div class="flex items-center gap-3">
            <span class="inline-flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20 text-emerald-300">
              <img
                src="./assets/logo.svg"
                alt="Logo der OP Item Datenbank"
                class="h-6 w-6 object-contain"
              />
            </span>
            <div>
              <p class="text-xs uppercase tracking-wide text-slate-500">V 0.9</p>
              <p class="text-lg font-semibold text-slate-100">OP ITEM DATENBANK</p>
            </div>
          </div>
          <div id="profile-container" class="flex items-center"></div>
        </div>
      </header>

      <main class="flex-1 pb-32 md:pb-16">
        <section class="relative mx-auto w-full max-w-6xl px-6 pt-12">
          <div class="relative rounded-3xl border border-slate-800/70 bg-gradient-to-br from-slate-900 via-slate-950 to-slate-950 p-8 shadow-2xl shadow-emerald-500/10 sm:p-10 lg:p-12">
            <div class="pointer-events-none absolute inset-0 overflow-hidden rounded-3xl" aria-hidden="true">
              <div class="absolute -right-24 top-1/2 h-64 w-64 -translate-y-1/2 rounded-full bg-emerald-500/10 blur-3xl"></div>
              <div class="absolute -left-16 -top-16 h-40 w-40 rounded-full bg-indigo-500/10 blur-3xl"></div>
            </div>
            <div class="relative z-10 flex flex-col gap-10">
              <div class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between">
                <div class="flex items-start gap-4">
                  <span class="inline-flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-2xl bg-emerald-500/10 text-emerald-300 ring-1 ring-inset ring-emerald-500/30">
                    <img
                      src="./assets/logo.svg"
                      alt="Logo der OP Item Datenbank"
                      class="h-12 w-12 object-contain"
                    />
                  </span>
                  <div class="space-y-4">
                    <div>
                      <p class="text-xs uppercase tracking-[0.45em] text-emerald-300/80">OP Item Datenbank</p>
                      <h1 class="mt-3 text-4xl font-bold text-slate-50 sm:text-5xl">Finde was du suchst...</h1>
                    </div>
                    <p class="max-w-2xl text-base text-slate-400">
                      Durchsuche die Datenbank, filtere nach Item-Typ, Material oder Seltenheit und entdecke dein neues Lieblingsitem.
                    </p>
                  </div>
                </div>
                <button
                  id="open-item-modal"
                  type="button"
                  data-open-item-modal
                  class="hidden items-center gap-2 rounded-full border border-emerald-500/60 bg-emerald-500/10 px-6 py-2.5 text-sm font-semibold text-emerald-200 transition hover:bg-emerald-500/20 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60 md:inline-flex"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="h-4 w-4"
                    aria-hidden="true"
                  >
                    <path d="M12 5v14" />
                    <path d="M5 12h14" />
                  </svg>
                  Item hinzufügen
                </button>
              </div>

              <form id="search-form" class="space-y-8" aria-label="Items durchsuchen">
                <label class="block" for="search-input">
                  <span class="sr-only">Nach Items suchen</span>
                  <div class="relative">
                    <span class="pointer-events-none absolute inset-y-0 left-4 flex items-center text-slate-500">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="h-5 w-5"
                        aria-hidden="true"
                      >
                        <path d="m21 21-4.35-4.35" />
                        <circle cx="11" cy="11" r="7" />
                      </svg>
                    </span>
                    <input
                      id="search-input"
                      name="search"
                      type="search"
                      placeholder="Nach Items suchen..."
                      class="w-full rounded-2xl border border-slate-800 bg-slate-950/80 py-4 pl-12 pr-4 text-base text-slate-100 placeholder:text-slate-500 shadow-inner shadow-slate-950/40 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                      autocomplete="off"
                    />
                  </div>
                </label>

                <div class="grid gap-4 md:grid-cols-3">
                  <label class="block" for="filter-type">
                    <span class="text-sm font-medium text-slate-300">Item-Typ</span>
                    <select
                      id="filter-type"
                      name="type"
                      class="mt-2 w-full rounded-xl border border-slate-800 bg-slate-950 px-4 py-3 text-sm text-slate-100 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                    >
                      <option value="">Alle Typen</option>
                      <option value="helm">Helm</option>
                      <option value="brustplatte">Brustplatte</option>
                      <option value="hose">Hose</option>
                      <option value="stiefel">Stiefel</option>
                      <option value="schildkroetenpanzer">Schildkrötenpanzer</option>
                      <option value="schwert">Schwert</option>
                      <option value="spitzhacke">Spitzhacke</option>
                      <option value="schaufel">Schaufel</option>
                      <option value="axt">Axt</option>
                      <option value="hacke">Hacke</option>
                      <option value="streitkolben">Streitkolben</option>
                      <option value="bogen">Bogen</option>
                      <option value="armbrust">Armbrust</option>
                      <option value="dreizack">Dreizack</option>
                      <option value="schild">Schild</option>
                      <option value="totem_der_unsterblichkeit">Totem der Unsterblichkeit</option>
                      <option value="angel">Angel</option>
                      <option value="elytra">Elytra</option>
                      <option value="sonstiges">Sonstiges</option>
                    </select>
                  </label>

                  <label class="block" for="filter-material">
                    <span class="text-sm font-medium text-slate-300">Material</span>
                    <select
                      id="filter-material"
                      name="material"
                      class="mt-2 w-full rounded-xl border border-slate-800 bg-slate-950 px-4 py-3 text-sm text-slate-100 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                    >
                      <option value="">Alle Materialien</option>
                      <option value="netherite">Netherit</option>
                      <option value="diamond">Diamant</option>
                      <option value="gold">Gold</option>
                      <option value="iron">Eisen</option>
                      <option value="leather">Leder</option>
                      <option value="wood">Holz</option>
                      <option value="stone">Stein</option>
                      <option value="other">Sonstiges</option>
                    </select>
                  </label>

                  <label class="block" for="filter-rarity">
                    <span class="text-sm font-medium text-slate-300">Seltenheit</span>
                    <select
                      id="filter-rarity"
                      name="rarity"
                      class="mt-2 w-full rounded-xl border border-slate-800 bg-slate-950 px-4 py-3 text-sm text-slate-100 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                    >
                      <option value="">Alle Seltenheiten</option>
                      <option value="selten">Selten</option>
                      <option value="episch">Episch</option>
                      <option value="unbezahlbar">Unbezahlbar</option>
                      <option value="legendär">Legendär</option>
                      <option value="jackpot">Jackpot</option>
                      <option value="mega_jackpot">Mega Jackpot</option>
                    </select>
                  </label>


                </div>

                <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
                  <p class="text-sm text-slate-500">Nutze die Filter, um schneller zum passenden Item zu gelangen.</p>
                  <button
                    type="submit"
                    class="inline-flex items-center gap-2 rounded-full bg-emerald-500 px-6 py-3 text-sm font-semibold text-emerald-950 transition hover:bg-emerald-400 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  >
                    Suchen
                  </button>
                </div>
              </form>
            </div>
          </div>
        </section>

        <section class="mx-auto w-full max-w-6xl px-6 py-12">
          <div class="grid gap-12 lg:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]">
            <div class="space-y-6">
              <div class="flex flex-col gap-2">
                <h2 class="text-lg font-semibold text-slate-100">Recent Searches</h2>
                <p class="text-sm text-slate-500">Deine letzten Anfragen als schnelle Shortcuts.</p>
              </div>
              <div
                id="recent-searches"
                class="min-h-[160px] rounded-2xl border border-slate-800/70 bg-slate-900/50 p-6 shadow-inner shadow-slate-950/60"
              >
                <p class="text-sm text-slate-500">Noch keine Suchanfragen gespeichert.</p>
              </div>
            </div>

            <div class="space-y-6">
              <div class="flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between">
                <div>
                  <h2 class="text-lg font-semibold text-slate-100">Suchergebnisse</h2>
                  <p class="text-sm text-slate-500">Ergebnisse erscheinen hier in einer kompakten Übersicht.</p>
                </div>
                <span class="text-xs uppercase tracking-[0.3em] text-slate-600">Live-Ansicht</span>
              </div>
              <div id="results-container" class="min-h-[320px] space-y-4"></div>
            </div>
          </div>
        </section>
      </main>

      <div
        id="profile-modal"
        class="fixed inset-0 z-50 hidden items-center justify-center overflow-y-auto bg-slate-950/80 p-6"
        role="dialog"
        aria-modal="true"
        aria-labelledby="profile-modal-title"
        aria-hidden="true"
      >
        <div class="absolute inset-0" data-profile-modal-overlay></div>
        <div
          class="relative z-10 w-full max-w-md rounded-2xl border border-slate-800/80 bg-slate-950 p-6 shadow-2xl shadow-emerald-500/10"
        >
          <div class="flex items-start justify-between gap-4">
            <div>
              <h2 id="profile-modal-title" class="text-xl font-semibold text-slate-50">Profil</h2>
              <p class="mt-1 text-sm text-slate-400">Verwalte deinen Anzeigenamen, Statistiken und Verknüpfungen.</p>
            </div>
            <button
              type="button"
              class="rounded-full p-2 text-slate-400 transition hover:bg-slate-900 hover:text-slate-200 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
              data-profile-close
              aria-label="Modal schließen"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="h-5 w-5"
                aria-hidden="true"
              >
                <path d="m6 6 12 12" />
                <path d="m18 6-12 12" />
              </svg>
            </button>
          </div>

          <div class="mt-6 space-y-6">
            <div class="flex items-center gap-4">
              <span
                class="flex h-16 w-16 items-center justify-center overflow-hidden rounded-full bg-slate-900 text-xl font-semibold text-slate-200 ring-1 ring-slate-800"
                data-profile-avatar
              >
                <img data-profile-avatar-image class="hidden h-full w-full object-cover" alt="" />
                <span data-profile-avatar-fallback>?</span>
              </span>
              <div>
                <p class="text-sm text-slate-500">Anzeigename</p>
                <p class="text-lg font-semibold text-slate-100" data-profile-display-name>—</p>
              </div>
            </div>

            <div class="space-y-3">
              <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
                <div class="rounded-xl border border-slate-800 bg-slate-900/60 p-4">
                  <p class="text-xs uppercase tracking-[0.2em] text-slate-500">Eingereichte Items</p>
                  <p class="mt-2 text-2xl font-semibold text-emerald-300" data-profile-items>–</p>
                </div>
                <div class="rounded-xl border border-slate-800 bg-slate-900/60 p-4">
                  <p class="text-xs uppercase tracking-[0.2em] text-slate-500">Erhaltene Likes</p>
                  <p class="mt-2 text-2xl font-semibold text-emerald-300" data-profile-likes>–</p>
                </div>
              </div>
              <p class="text-sm text-slate-500 hidden" data-profile-loading>Profilinformationen werden geladen ...</p>
              <p class="text-sm text-rose-400 hidden" data-profile-error></p>
            </div>

            <form class="space-y-3" data-profile-form novalidate>
              <div class="space-y-2">
                <label class="block" for="profile-minecraft-uuid">
                  <span class="text-sm font-medium text-slate-300">Minecraft UUID</span>
                  <input
                    id="profile-minecraft-uuid"
                    type="text"
                    inputmode="text"
                    autocomplete="off"
                    spellcheck="false"
                    placeholder="123e4567-e89b-12d3-a456-426614174000"
                    class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                    data-minecraft-uuid-input
                  />
                </label>
                <p class="text-xs text-slate-500">
                  Verknüpfe deinen Minecraft-Account über die UUID (mit oder ohne Bindestriche).
                </p>
                <p class="text-xs text-rose-400 hidden" data-profile-form-error></p>
                <p class="text-xs text-emerald-300 hidden" data-profile-form-success></p>
              </div>
              <div class="flex items-center justify-end gap-3">
                <button
                  type="button"
                  class="rounded-lg border border-slate-700 px-4 py-2 text-sm font-medium text-slate-300 transition hover:border-slate-500 hover:text-slate-100 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  data-profile-clear
                >
                  Entfernen
                </button>
                <button
                  type="submit"
                  class="inline-flex items-center gap-2 rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-950 transition hover:bg-emerald-400 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  data-profile-save
                >
                  <span data-profile-save-text>Speichern</span>
                  <svg
                    class="hidden h-4 w-4 animate-spin text-emerald-950"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    aria-hidden="true"
                    data-profile-save-spinner
                  >
                    <path d="M12 3a9 9 0 1 1-9 9" />
                  </svg>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="pointer-events-none fixed inset-x-0 bottom-0 z-40 flex justify-center p-4 md:hidden">
        <button
          type="button"
          data-open-item-modal
          class="pointer-events-auto inline-flex w-full max-w-md items-center justify-center gap-2 rounded-full bg-emerald-500 px-6 py-3 text-sm font-semibold text-emerald-950 shadow-lg shadow-emerald-500/30 transition hover:bg-emerald-400 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="h-4 w-4"
            aria-hidden="true"
          >
            <path d="M12 5v14" />
            <path d="M5 12h14" />
          </svg>
          Item hinzufügen
        </button>
      </div>
    </div>

    <div
      id="item-modal"
      class="fixed inset-0 z-50 hidden flex items-center justify-center overflow-y-auto bg-slate-950/80 p-6"
      role="dialog"
      aria-modal="true"
      aria-labelledby="item-modal-title"
      aria-hidden="true"
    >
      <div class="absolute inset-0" data-modal-overlay></div>
      <div class="relative z-10 w-full md:w-2/3">
        <div class="flex flex-col overflow-hidden rounded-2xl border border-slate-800/80 bg-slate-950 shadow-2xl shadow-emerald-500/10">
          <div
            class="max-h-[90vh] flex-1 overflow-y-auto p-8"
            data-dropdown-container
          >
            <div class="flex items-start justify-between gap-4">
              <div>
                <h2 id="item-modal-title" class="text-2xl font-semibold text-slate-50">Neues Item hinzufügen</h2>
                <p class="mt-1 text-sm text-slate-400">
                  Trage alle Pflichtfelder ein, um ein Item in die Datenbank aufzunehmen.
                </p>
              </div>
              <button
                type="button"
                class="rounded-full p-2 text-slate-400 transition hover:bg-slate-900 hover:text-slate-200 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                data-modal-close
                aria-label="Modal schließen"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="h-5 w-5"
                  aria-hidden="true"
                >
                  <path d="m6 6 12 12" />
                  <path d="m18 6-12 12" />
                </svg>
              </button>
            </div>
        <form id="item-form" class="mt-6 space-y-6" aria-label="Item hinzufügen" novalidate>
          <div
            class="hidden rounded-xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200"
            role="alert"
            data-form-error
          ></div>

          <div class="grid gap-4 sm:grid-cols-2">
            <div class="sm:col-span-2">
              <label class="block" for="item-name-input">
                <span class="text-sm font-medium text-slate-300">Name<span class="text-rose-400">*</span></span>
                <input
                  id="item-name-input"
                  name="name"
                  type="text"
                  required
                  autocomplete="off"
                  class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  placeholder="Beispiel: Netherite Schwert"
                  aria-describedby="item-name-error"
                />
              </label>
              <p id="item-name-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="name"></p>
            </div>

            <div>
              <label class="block" for="item-type-select">
                <span class="text-sm font-medium text-slate-300">Item-Typ<span class="text-rose-400">*</span></span>
                <select
                  id="item-type-select"
                  name="type"
                  required
                  class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  aria-describedby="item-type-error"
                ></select>
              </label>
              <p id="item-type-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="type"></p>
            </div>

            <div>
              <label class="block" for="item-rarity-select">
                <span class="text-sm font-medium text-slate-300">Seltenheit<span class="text-rose-400">*</span></span>
                <select
                  id="item-rarity-select"
                  name="rarity"
                  required
                  class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  aria-describedby="item-rarity-error"
                ></select>
              </label>
              <p id="item-rarity-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="rarity"></p>
            </div>

            <div>
              <label class="block" for="item-material-select">
                <span class="text-sm font-medium text-slate-300">Material<span class="text-rose-400">*</span></span>
                <select
                  id="item-material-select"
                  name="material"
                  required
                  class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  aria-describedby="item-material-error"
                ></select>
              </label>
              <p id="item-material-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="material"></p>
            </div>

            <div>
              <span id="item-star-level-label" class="text-sm font-medium text-slate-300">Stern-Level</span>
              <input id="item-star-level-input" name="star_level" type="hidden" value="" data-star-input />
              <div
                class="mt-2 inline-flex items-center gap-1 rounded-lg border border-slate-800/60 bg-slate-900/60 px-3 py-2 focus-within:border-emerald-400 focus-within:ring-2 focus-within:ring-emerald-500/40"
                role="radiogroup"
                aria-labelledby="item-star-level-label"
                aria-describedby="item-star-level-error"
                data-star-rating
              >
                <button
                  type="button"
                  class="flex h-9 w-9 items-center justify-center rounded-full text-2xl text-slate-600 transition hover:text-amber-300 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  data-star-value="1"
                  role="radio"
                  aria-label="1 von 3 Sternen"
                  aria-checked="false"
                >
                  <span aria-hidden="true" data-star-icon>☆</span>
                </button>
                <button
                  type="button"
                  class="flex h-9 w-9 items-center justify-center rounded-full text-2xl text-slate-600 transition hover:text-amber-300 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  data-star-value="2"
                  role="radio"
                  aria-label="2 von 3 Sternen"
                  aria-checked="false"
                >
                  <span aria-hidden="true" data-star-icon>☆</span>
                </button>
                <button
                  type="button"
                  class="flex h-9 w-9 items-center justify-center rounded-full text-2xl text-slate-600 transition hover:text-amber-300 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  data-star-value="3"
                  role="radio"
                  aria-label="3 von 3 Sternen"
                  aria-checked="false"
                >
                  <span aria-hidden="true" data-star-icon>☆</span>
                </button>
              </div>
              <p id="item-star-level-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="star_level"></p>
            </div>

            <!-- Preis Input deaktiviert
            <div>
              <label class="block" for="item-price-input">
                <span class="text-sm font-medium text-slate-300">Preis (Coins)</span>
                <input
                  id="item-price-input"
                  name="price"
                  type="number"
                  min="0"
                  step="0.01"
                  inputmode="decimal"
                  class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  placeholder="Optional"
                  aria-describedby="item-price-error"
                />
              </label>
              <p id="item-price-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="price"></p>
            </div>
            -->

            <div class="sm:col-span-2 space-y-2">
              <label class="block" for="item-image-input">
                <span class="text-sm font-medium text-slate-300">Bild-URL</span>
                <input
                  id="item-image-input"
                  name="image_url"
                  type="url"
                  inputmode="url"
                  class="mt-1 w-full rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  placeholder="https://example.com/item.png"
                  aria-describedby="item-image-error"
                />
              </label>
              <p id="item-image-error" class="text-xs text-rose-400 hidden" data-error-for="image_url"></p>
              <div class="flex flex-wrap items-center gap-3">
                <input type="file" accept="image/*" class="hidden" data-image-upload-input />
                <button
                  type="button"
                  class="inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-xs font-semibold text-emerald-200 transition hover:bg-emerald-500/20 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
                  data-image-upload-button
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="h-4 w-4"
                    aria-hidden="true"
                  >
                    <path d="M12 5v14" />
                    <path d="M5 12h14" />
                  </svg>
                  Bild hochladen
                </button>
                <span class="text-xs text-slate-500" data-image-upload-status>Max. 5&nbsp;MB · Nur Bilddateien</span>
              </div>
              <div
                class="hidden h-2 w-full overflow-hidden rounded-full bg-slate-800/80"
                aria-hidden="true"
                data-image-upload-progress
              >
                <div class="h-full w-0 bg-emerald-500 transition-all duration-200" data-image-upload-progress-bar></div>
              </div>
              <p class="text-xs text-rose-400 hidden" data-image-upload-error></p>
            </div>

            <div class="sm:col-span-2">
              <label class="block" for="item-description-input">
                <span class="text-sm font-medium text-slate-300">Beschreibung</span>
                <textarea
                  id="item-description-input"
                  name="description"
                  maxlength="500"
                  class="mt-1 h-28 w-full resize-none rounded-lg border border-slate-800 bg-slate-900 px-4 py-3 text-base text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                  placeholder="Optionaler Beschreibungstext (max. 500 Zeichen)"
                  aria-describedby="item-description-error"
                ></textarea>
              </label>
              <p id="item-description-error" class="mt-1 text-xs text-rose-400 hidden" data-error-for="description"></p>
            </div>
          </div>

          <div class="space-y-3">
            <div class="flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between">
              <span class="text-sm font-medium text-slate-300">Verzauberungen</span>
              <span class="text-xs text-slate-500">Optional – wähle Einträge aus der Liste</span>
            </div>
            <div class="rounded-xl border border-slate-800 bg-slate-900/60">
              <div class="border-b border-slate-800/80 p-3">
                <label class="block" for="enchantment-search-input">
                  <span class="sr-only">Verzauberungen durchsuchen</span>
                  <div class="relative">
                    <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-slate-500">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="h-4 w-4"
                        aria-hidden="true"
                      >
                        <path d="m21 21-4.35-4.35" />
                        <circle cx="11" cy="11" r="7" />
                      </svg>
                    </span>
                    <input
                      id="enchantment-search-input"
                      type="search"
                      autocomplete="off"
                      class="w-full rounded-lg border border-slate-800 bg-slate-950 py-2 pl-9 pr-3 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/40"
                      placeholder="Suchen..."
                      data-enchantment-search
                    />
                  </div>
                </label>
              </div>
              <div
                class="max-h-48 overflow-y-auto p-2 text-sm"
                data-enchantment-list
                aria-live="polite"
              >
                <p class="px-2 py-4 text-xs text-slate-500">Verzauberungen werden geladen ...</p>
              </div>
            </div>
            <div class="space-y-3" data-selected-enchantments>
              <p class="text-xs text-slate-500">Noch keine Verzauberungen ausgewählt.</p>
            </div>
            <p id="item-enchantments-error" class="text-xs text-rose-400 hidden" data-error-for="enchantments"></p>
          </div>

          <div class="flex justify-end gap-3 pt-2">
            <button
              type="button"
              class="rounded-lg border border-slate-700 px-4 py-2 text-sm font-medium text-slate-300 transition hover:border-slate-500 hover:text-slate-100 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
              data-modal-close
            >
              Abbrechen
            </button>
            <button
              type="submit"
              class="inline-flex items-center gap-2 rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-950 transition hover:bg-emerald-400 focus:outline-none focus-visible:ring focus-visible:ring-emerald-500/60"
              data-submit-button
            >
              <span data-submit-text>Speichern</span>
              <svg
                class="hidden h-4 w-4 animate-spin text-emerald-950"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
                data-submit-spinner
              >
                <path d="M12 3a9 9 0 1 1-9 9" />
              </svg>
            </button>
          </div>
        </form>
          </div>
        </div>
      </div>
    </div>

    <div
      id="toast-container"
      class="pointer-events-none fixed top-6 left-1/2 z-[60] flex w-full max-w-sm -translate-x-1/2 flex-col gap-3"
      aria-live="polite"
      aria-atomic="true"
    ></div>

    <!-- Lädt die Supabase JavaScript SDK als ESM-Bundle. -->
    <script type="module" src="https://esm.sh/@supabase/supabase-js@2"></script>
    <script src="assets/js/env.js" defer></script>
    <script src="assets/js/supabase.js" defer></script>
    <script src="assets/js/auth.js" defer></script>
    <script src="assets/js/ui.js" defer></script>
    <script src="assets/js/profile.js" defer></script>
    <script src="assets/js/modal.js" defer></script>
    <script src="assets/js/search.js" defer></script>
  </body>
</html>
